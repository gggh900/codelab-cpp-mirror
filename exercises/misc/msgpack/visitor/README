Code samples is directly taken from:
https://github.com/msgpack/msgpack-c/wiki/v2_0_cpp_visitor
